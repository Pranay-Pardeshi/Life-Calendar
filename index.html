<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Calendar | Hyper-Real 3D Glass</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Hyper-Real Glass Tokens */
            --glass-surface: rgba(255, 255, 255, 0.015);
            --glass-rim: rgba(255, 255, 255, 0.15);
            --glass-inner-glow: rgba(255, 255, 255, 0.05);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.4);
            
            /* High-Viscosity Fluid Colors */
            --w1: #0f172a; --w2: #334155; --w3: #1e293b;
            
            /* Adaptive Light Position */
            --lx: 50%; --ly: 0%;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Plus Jakarta Sans', sans-serif;
            user-select: none;
        }

        body {
            background: #000;
            color: var(--text-primary);
            min-height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
        }

        /* --- Volumetric Fluid Simulation --- */
        .liquid-engine {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            filter: blur(100px) contrast(1.2);
            opacity: 0.8;
            background: #000;
        }

        .fluid-layer {
            position: absolute;
            width: 200%; height: 200%;
            top: -50%; left: -50%;
            background: 
                radial-gradient(circle at 30% 30%, var(--w1) 0%, transparent 50%),
                radial-gradient(circle at 70% 60%, var(--w2) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, var(--w3) 0%, transparent 50%);
            animation: moveLiquid 30s infinite alternate ease-in-out;
        }

        @keyframes moveLiquid {
            0% { transform: translate(0,0) rotate(0deg) scale(1); }
            50% { transform: translate(5%, 5%) rotate(5deg) scale(1.1); }
            100% { transform: translate(-2%, -8%) rotate(-3deg) scale(1); }
        }

        /* --- 3D Glass Archetecture --- */
        .glass-chassis {
            position: relative;
            width: 96vw;
            height: 92vh;
            display: grid;
            grid-template-columns: minmax(340px, 24%) 1fr;
            background: var(--glass-surface);
            
            /* The Core Refraction */
            backdrop-filter: blur(80px) saturate(220%) brightness(0.9);
            -webkit-backdrop-filter: blur(80px) saturate(220%) brightness(0.9);
            
            border-radius: 40px;
            
            /* Physical Rim & Depth */
            border: 1px solid var(--glass-rim);
            box-shadow: 
                0 50px 100px rgba(0,0,0,0.9),
                inset 0 0 80px rgba(255,255,255,0.02),
                inset 0 1px 1px rgba(255,255,255,0.3),
                inset 0 -1px 20px rgba(0,0,0,0.5);
            
            overflow: hidden;
        }

        /* Dynamic Specular Highlight (The 'Virtual Glass' Secret) */
        .glass-chassis::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(
                circle at var(--lx) var(--ly), 
                rgba(255,255,255,0.08) 0%, 
                transparent 60%
            );
            pointer-events: none;
            z-index: 10;
        }

        /* --- Sidebar Physical Simulation --- */
        .sidebar {
            padding: 4rem 3rem;
            display: flex;
            flex-direction: column;
            border-right: 1px solid rgba(255,255,255,0.08);
            background: linear-gradient(135deg, rgba(255,255,255,0.02), transparent);
            position: relative;
            z-index: 2;
        }

        .brand-badge {
            font-size: 0.8rem;
            letter-spacing: 6px;
            font-weight: 800;
            text-transform: uppercase;
            color: #fff;
            margin-bottom: 0.5rem;
            opacity: 0.8;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        #ist-clock {
            font-size: clamp(3rem, 5vw, 5rem);
            font-weight: 200;
            letter-spacing: -4px;
            line-height: 1;
            margin: 1.5rem 0;
            filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
        }

        .vial-container {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 24px;
            padding: 1.8rem;
            margin-bottom: 2rem;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.2);
        }

        .vial-label {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            display: block;
        }

        .vial-value { font-size: 2.2rem; font-weight: 600; }

        .quote-box {
            font-style: italic;
            font-size: 0.95rem;
            line-height: 1.6;
            color: rgba(255,255,255,0.7);
            padding: 1rem 0;
            border-top: 1px solid rgba(255,255,255,0.05);
        }

        /* --- Main Calendar Engine --- */
        .main-content {
            padding: 4rem 5rem;
            display: flex;
            flex-direction: column;
            z-index: 1;
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 3rem;
        }

        .header-row h2 { font-size: 2.5rem; font-weight: 800; letter-spacing: -1px; }

        .life-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(14px, 1fr));
            gap: 12px;
            overflow-y: auto;
            flex-grow: 1;
            padding-right: 20px;
        }

        .life-grid::-webkit-scrollbar { width: 3px; }
        .life-grid::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }

        /* Gem Nodes - Realistic Sub-surface Scattering */
        .gem {
            aspect-ratio: 1;
            border-radius: 4px;
            background: rgba(255,255,255,0.04);
            border: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 1px 1px rgba(255,255,255,0.1);
            transition: transform 0.3s ease;
        }

        .gem.passed {
            background: rgba(255,255,255,0.15);
            border-color: rgba(255,255,255,0.05);
            box-shadow: none;
        }

        .gem.today {
            background: #fff;
            box-shadow: 0 0 30px #fff, 0 0 60px rgba(255,255,255,0.3);
            animation: corePulse 3s infinite ease-in-out;
            z-index: 10;
        }

        @keyframes corePulse {
            0%, 100% { transform: scale(1); filter: brightness(1); }
            50% { transform: scale(1.6); filter: brightness(1.3); }
        }

        /* Responsive Mobile Tweak */
        @media (max-width: 1024px) {
            .glass-chassis { grid-template-columns: 1fr; grid-template-rows: auto 1fr; height: 96vh; }
            .sidebar { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.08); padding: 2rem; }
        }
    </style>
</head>
<body>

    <div class="liquid-engine">
        <div class="fluid-layer"></div>
    </div>

    <div class="glass-chassis" id="chassis">
        <aside class="sidebar">
            <span class="brand-badge">Vial · Platinum</span>
            <div id="ist-clock">00:00</div>
            
            <div class="vial-container">
                <span class="vial-label">Life Remaining</span>
                <div class="vial-value" id="days-left">--</div>
                <span style="font-size: 0.7rem; color: var(--text-secondary);">DAYS IN THIS CYCLE</span>
            </div>

            <div class="vial-container">
                <span class="vial-label">Weather (IST)</span>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div id="temp" style="font-size: 2rem; font-weight: 600;">--°</div>
                    <div id="weather-status" style="font-size: 0.8rem; opacity: 0.6; text-align: right;">SYNCING</div>
                </div>
            </div>

            <div class="quote-box" id="motivation">
                "Small daily wins lead to giant results."
            </div>

            <div style="margin-top: auto;">
                <span class="vial-label">Momentum</span>
                <div style="font-size: 2rem; font-weight: 800;" id="momentum-val">0%</div>
            </div>
        </aside>

        <main class="main-content">
            <div class="header-row">
                <h2 id="year-label">YEAR 2026</h2>
                <div id="phase-label" style="opacity: 0.5; font-weight: 800; letter-spacing: 2px;">NIGHT</div>
            </div>
            <div class="life-grid" id="grid"></div>
        </main>
    </div>

    <script>
        const quotes = [
            "Every moment is a fresh beginning.",
            "Don't count the days. Make the days count.",
            "Believe you can and you're halfway there.",
            "Opportunities don't happen, you create them.",
            "Success is not final, failure is not fatal.",
            "The only limits are the ones you believe.",
            "Action is the foundational key to all success.",
            "It always seems impossible until it's done.",
            "Create a life you love waking up to.",
            "Your energy is your greatest asset."
        ];

        async function fetchWeather() {
            try {
                const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=19.29&longitude=73.06&current_weather=true`);
                const data = await response.json();
                if (data.current_weather) {
                    document.getElementById('temp').textContent = Math.round(data.current_weather.temperature) + '°';
                    const map = { 0: 'CLEAR', 1: 'FAIR', 2: 'CLOUDY', 3: 'OVERCAST', 61: 'RAIN' };
                    document.getElementById('weather-status').textContent = map[data.current_weather.weathercode] || 'CLEAR';
                }
            } catch (e) { document.getElementById('weather-status').textContent = "OFFLINE"; }
        }

        function updateUI() {
            const now = new Date();
            const ist = new Date(now.getTime() + (now.getTimezoneOffset() * 60000) + (5.5 * 3600000));
            
            document.getElementById('ist-clock').textContent = ist.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit', hour12: false });
            
            // Light Position Simulation
            const hrs = ist.getHours();
            const lightX = (hrs / 24) * 100;
            document.documentElement.style.setProperty('--lx', `${lightX}%`);
            document.documentElement.style.setProperty('--ly', hrs < 18 ? '0%' : '100%');

            // Environment Themes
            let p = "NIGHT", w1="#0f172a", w2="#1e293b", w3="#334155";
            if (hrs >= 5 && hrs < 12) { p = "MORNING"; w1="#ff9a9e"; w2="#fad0c4"; w3="#ffd1ff"; }
            else if (hrs >= 12 && hrs < 17) { p = "AFTERNOON"; w1="#0ea5e9"; w2="#22d3ee"; w3="#70e1ff"; }
            else if (hrs >= 17 && hrs < 20) { p = "EVENING"; w1="#f97316"; w2="#fbbf24"; w3="#ff7b54"; }

            document.getElementById('phase-label').textContent = p;
            document.documentElement.style.setProperty('--w1', w1);
            document.documentElement.style.setProperty('--w2', w2);
            document.documentElement.style.setProperty('--w3', w3);

            if (ist.getSeconds() === 0 && ist.getMinutes() === 0 && ist.getHours() === 0) renderCalendar();
        }

        function renderCalendar() {
            const now = new Date();
            const ist = new Date(now.getTime() + (now.getTimezoneOffset() * 60000) + (5.5 * 3600000));
            const year = ist.getFullYear();
            const total = ((year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)) ? 366 : 365;
            const start = new Date(year, 0, 0);
            const current = Math.floor((ist - start) / 86400000);

            document.getElementById('year-label').textContent = `YEAR ${year}`;
            document.getElementById('days-left').textContent = total - current;
            document.getElementById('momentum-val').textContent = ((current / total) * 100).toFixed(1) + '%';

            const grid = document.getElementById('grid');
            grid.innerHTML = '';
            const frag = document.createDocumentFragment();
            for (let i = 1; i <= total; i++) {
                const gem = document.createElement('div');
                gem.className = 'gem';
                if (i < current) gem.classList.add('passed');
                else if (i === current) gem.classList.add('today');
                frag.appendChild(gem);
            }
            grid.appendChild(frag);
        }

        window.onload = () => {
            updateUI();
            renderCalendar();
            fetchWeather();
            document.getElementById('motivation').textContent = `"${quotes[Math.floor(Math.random() * quotes.length)]}"`;
            setInterval(updateUI, 1000);
            setInterval(fetchWeather, 600000);
        };
    </script>
</body>
</html>